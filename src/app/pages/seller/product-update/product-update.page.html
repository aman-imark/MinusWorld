<ion-header class="ion-no-border" #header>
  <ion-toolbar>
    <!-- <ion-buttons slot="start">
      <ion-back-button  icon="arrow-back"  text="" defaultHref=""></ion-back-button>
    </ion-buttons> -->

    <app-bk-btn slot="start"></app-bk-btn>
    <ion-text>Update Product</ion-text>
    <!-- <ion-title class="ion-text-start">Update Product</ion-title> -->
  </ion-toolbar>
</ion-header>



<ion-content [fullscreen]="true"> 

  <!-- productUpdateForm.form.valid &&  -->
  <div *ngIf="(prod_updated === true)"  style="display:flex;flex-direction:column; align-items: center;justify-content: center;height:100%;font-weight:600;color: #666666;">
    <div><ion-icon name="checkmark-done-outline" style="font-size: 40px;margin-bottom: 10px;color: #27F09D;"></ion-icon></div>
    Product Updated successfully.
  </div>

<div *ngIf="(prod_updated === false)" style="margin:0px 8px;"> 

  <form [formGroup]="prd_updateForm" (ngSubmit)="productUpdate_formData(prd_updateForm)" novalidate>
    <div class="comman">
      <div class="inputLabel"><strong>Console</strong></div>
      <ion-select class="inputBox" placeholder="Select Console" formControlName="console" name="console" required>
        <ion-select-option [value]="cnd.id"  *ngFor="let cnd of consoleData">{{cnd.console}}</ion-select-option>
      </ion-select>
     
    </div>



    <div class="comman">
      <div class="inputLabel"><strong>Type of Product</strong></div>
      <ion-select class="inputBox" placeholder="Select Type of Product" formControlName="prod_typ" name="prod_typ" required>
        <ion-select-option [value]="ptd.id" *ngFor="let ptd of productTypeData">{{ptd.prodtype}}</ion-select-option>
      </ion-select>
    </div>



    <div class="comman">
      <div class="inputLabel"><strong>Type of Video Game</strong></div>
      <ion-select class="inputBox"  placeholder="Select Type of Video Game" formControlName="video_game_typ" name="video_game_typ" required>
        <ion-select-option  [value]="vdg.id" *ngFor="let vdg of videoGameTypeData">{{vdg.videogametype}}</ion-select-option>
      </ion-select>
    </div>



    <div class="comman">
      <div class="inputLabel"><strong>Title</strong></div>
      <ion-input type="text" class="inputBox" placeholder="Enter Product Name" formControlName="prodname" name="prodname" required></ion-input>
    </div>

    <div class="comman">
      <div class="inputLabel"><strong>Game Developer</strong></div>
      <ion-select class="inputBox"  placeholder="Select Game Developer" formControlName="game_developer" name="game_developer">
        <ion-select-option  [value]="gdp.id" *ngFor="let gdp of gameDeveloperData">{{gdp.gamedeveloper}}</ion-select-option>
      </ion-select>
    </div>

    <div class="comman">
      <div class="inputLabel"><strong>Year of Release</strong></div>
      <ion-input type="tel" class="inputBox" maxlength="4" placeholder="Enter Year of Release" (ionInput)="countChange($event)"
                 formControlName="yearofrelease" name="yearofrelease"></ion-input>
    </div>

    <div class="comman">
      <div class="inputLabel"><strong>Certification Number</strong></div>
      <ion-input type="text" class="inputBox" placeholder="Enter Certification Number"  
                 formControlName="certification_number" name="certification_number" required></ion-input>

    </div>


    <div class="comman">
      <div class="inputLabel"><strong>Grade</strong></div>
      <ion-select  class="inputBox"  placeholder="Select Grade" (ionChange)="change_GradeValue($event.target.value)" 
                   formControlName="grade" name="grade" required>
        <ion-select-option  [value]="gtd.id" *ngFor="let gtd of gradeTypeData">{{gtd.name}}</ion-select-option>
      </ion-select>
    </div>



    <div *ngIf="(grade_Conditional === false)" class="comman"> <!-- Conditional -->
      <div class="inputLabel"><strong>Grade Scale</strong></div>
      <ion-select  class="inputBox" placeholder="Select Grade Scale" formControlName="vga_grade" name="vga_grade">
        <ion-select-option  [value]="vga.id" *ngFor="let vga of vgaGradeType_Data">{{vga.grade}}</ion-select-option>
      </ion-select>
    </div>


    <div *ngIf="(grade_Conditional === true)" class="comman"> <!-- Conditional -->
      <div class="inputLabel"><strong>Box Grade Range</strong></div>
      <ion-select  class="inputBox" placeholder="Select Box Grade Range" formControlName="box_grade"  name="box_grade">
        <ion-select-option  [value]="bgd.id" *ngFor="let bgd of boxGradeTypeData">{{bgd.boxgrade}}</ion-select-option>
      </ion-select>
    </div>



    <div *ngIf="(grade_Conditional === true)" class="comman"> <!-- Conditional -->
      <div class="inputLabel"><strong>Seal Grade</strong></div>
      <ion-select  class="inputBox" placeholder="Select Seal Grade" formControlName="seal_grade"  name="seal_grade">
        <ion-select-option  [value]="sgd.id" *ngFor="let sgd of sealGradeTypeData">{{sgd.sealgrade}}</ion-select-option>
      </ion-select>
    </div>



    <div class="comman">
      <div class="inputLabel"><strong>Variant</strong></div>
      <ion-select  class="inputBox" placeholder="Select Varient" formControlName="variant"  name="variant" required>
        <ion-select-option [value]="vrd.id" *ngFor="let vrd of variantsData">{{vrd.variants}}</ion-select-option>
      </ion-select>      

    </div>

   

    <div class="comman">
      <div class="inputLabel"><strong>List Price</strong></div>
      <ion-input type="tel" minlength="2"  class="inputBox" placeholder="Enter List Price"  (ionInput)="countChange($event)"
                 formControlName="net_price"  name="net_price" required></ion-input>

    </div>


    
    <div class="comman">
      <div class="inputLabel"><strong>Allow Offers</strong></div> 
      <ion-select class="inputBox" placeholder="Select Allow Offers"  formControlName="allow_offers" name="allow_offers">
        <ion-select-option value="1">Disabled</ion-select-option>
        <ion-select-option value="2">Enabled</ion-select-option>
      </ion-select>
    </div>


    <div class="comman">
      <div class="inputLabel"><strong>Minimum Offer</strong></div>
      <ion-input type="text" minlength="1"  class="inputBox" placeholder="0" (ionInput)="countChange($event)"
                 formControlName="min_offer" name="min_offer"></ion-input>
    </div>




   <div class="comman">
    <ion-accordion-group  class="inputBox">  
      <ion-accordion value="disclaimers">
        <ion-item slot="header">
          <ion-label><strong>Disclaimers</strong></ion-label>
        </ion-item>
        <div slot="content">
          <!-- apiKey="qebzm4nqxjh65bwdkyd4qoaexkq22452fw0b8ie3iqidqsdm" -->
        <editor
        apiKey="no-api-key"
        cloudChannel="5"
        id="tinyMCE-desc"
        [inline]="false"
        [init]="{
          selector: '#desc',
          height: 400,
          placeholder: 'Write About the Product',
          plugins: [
           'lists link image table code paste wordcount'
          ],
          toolbar: 'undo redo | formatselect | bold italic underline code | alignleft aligncenter alignright alignjustify | 
                    bullist numlist outdent indent'
        }"
        formControlName="desc" name="desc"></editor>
        </div>
      </ion-accordion>
    </ion-accordion-group>
    </div>


    <!-- <div class="comman">
      <ion-accordion-group  class="inputBox">
        <ion-accordion value="disclosers">
          <ion-item slot="header">
            <ion-label><strong>*MinusWorlds does not allow games with Mold, or Cracked Encapsulations.</strong></ion-label>
          </ion-item>

          <div slot="content">

          <ion-item lines="none" *ngFor="let ds of disclosersData"   >
            <ion-label style="color: #4e5863;">{{ds.disclosers}}</ion-label>
            <ion-checkbox slot="end" checked="false" value="{{ds.id}}" (ionChange)="selectDisclosers(ds.id, $event)"></ion-checkbox>
          </ion-item>

          </div>
        </ion-accordion>
      </ion-accordion-group>
    </div> -->

   

    <div class="comman">
      <div class="inputLabel"><strong>Thumbnail</strong></div>
      <ion-item button lines="none" detail="false" class="inputBox" (click)="productThumbs_imgSelectClick()" style="--background:#f8f9fb;border: 2px dashed #C7D1FF !important;">
      <div style="display: flex;align-items:center;justify-content:center;">
        <ion-icon name="image-outline" style="font-size: 22px;opacity:0.7;"></ion-icon>
        <ion-text style="font-size: 14px;opacity:0.7;font-weight:600">&nbsp;&nbsp;Select Thumbnail Images</ion-text>
      </div>
      </ion-item>
    </div>
      <ion-row *ngIf="(enableThumbs_img === true)" style="width:100%; margin: 8px 0px;">
        <ion-col size="3" class="col-class" *ngFor="let thumb_img of thumb_imageData" style="margin-bottom:10px;height:110px;overflow:hidden;">
            <div class="img-ctr">
              <img [src]="sanitizeImageUrl(thumb_img)">
              <div style="position: absolute; bottom: 0px; right: 0px;">
                <ion-buttons>
                  <ion-button class="cust_delete" shape="round" (click)="removeThumb_imgData(thumb_img)">
                    <ion-icon slot="icon-only" name="close-outline"></ion-icon>
                  </ion-button>
                </ion-buttons>
              </div>
            </div>
        </ion-col>
      </ion-row>




    <div style="margin: 8% 1% 0px;">
      <div class="inputLabel"><strong>Other Images</strong></div>
      <ion-item button lines="none" detail="false" class="inputBox" (click)="productOther_imgSelectClick()" style="--background:#f8f9fb;border: 2px dashed #C7D1FF !important;">
      <div style="display: flex;align-items:center;justify-content:center;">
        <ion-icon name="image-outline"  style="font-size: 22px;opacity:0.7;"></ion-icon>
        <ion-text style="font-size: 14px;opacity:0.7;font-weight:600">&nbsp;&nbsp;Select Other Images</ion-text>
      </div>
      </ion-item>
      <div style="font-size:12px;margin: 2% 1%;line-height: 1.4;opacity: 0.8; font-weight: 700;">You need to add at least 4 images. Pay attention to the quality of the pictures you add. Image size <span style="color:#3d80ff;font-weight:600;">(900 x 900) Pixel</span></div>
    </div>
      <ion-row *ngIf="(enableOthers_img === true)" style="width:100%; margin: 8px 0px;">
        <ion-col size="3" class="col-class" *ngFor="let other_img of other_imageData" style="margin-bottom:10px;height:110px;overflow:hidden;">
            <div class="img-ctr">
              <img [src]="sanitizeImageUrl(other_img)">
              <div style="position: absolute; bottom: 0px; right: 0px;">
                <ion-buttons>
                  <ion-button class="cust_delete" shape="round" (click)="removeOther_imgData(other_img)">
                    <ion-icon slot="icon-only" name="close-outline"></ion-icon>
                  </ion-button>
                </ion-buttons>
              </div>
            </div>
        </ion-col>
      </ion-row>




      
    <ion-item lines="none" style="align-items: center;">
      <ion-checkbox slot="start" checked="true" disabled style="margin-inline-end: 15px !important;opacity:0.9;"></ion-checkbox>
      <ion-label style=" white-space: normal;"><span style="opacity: 0.8;font-weight: 700;">I agree to the MinusWorlds</span>&nbsp;<a href="javascript:void(0)" style="font-weight: 600;" [routerLink]="['/terms']">Terms of Use</a></ion-label>
    </ion-item>




    <div style="margin: 30px 8px 18px;">
       <ion-button size="default" type="submit" expand="block" 
       style="height:44px !important;--background: linear-gradient(92deg, #27F09D, #07ADEB) !important;--color: #ffffff !important;">Update Product</ion-button>
    </div>
  </form>




</div>


</ion-content>
